<html>

<head>
    <title>HTML++ without Theme</title>
    <link rel="stylesheet" href="../dist/css/index.css">
    <style>
        header,
        aside,
        main,
        section,
        article,
        footer,
        div.envelope {
            border: 1px solid #000;
        }

        div.envelope {
            border: 1px solid red;
        }

        header,
        aside,
        main,
        section,
        article,
        footer,
        div.envelope {
            padding: 10px;
        }

        h1 {
            margin-top: 17px;
        }

        body {
            padding: 17px;
        }
    </style>
</head>

<body>
    <div id="layouts"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const layoutsContainer = document.getElementById('layouts');

            const generateLayouts = () => {
                const layoutList = []; // Renamed from layouts to layoutList
                let layoutCount = 1; // Initialize layout numbering

                // Loop through header placements
                const headerOptions = [
                    false,                  // Excluded
                    'body',                 // Inside body
                    'envelope',             // Inside div.envelope
                    'aside',                // As a child of aside
                    'main',                 // As a child of main
                    'article',              // As a child of article
                    'section'               // As a child of section
                ];

                // Loop through aside combinations: none, one (left), one (right), two
                const asideOptions = [
                    { left: false, right: false }, // none
                    { left: true, right: false },  // one left
                    { left: false, right: true },  // one right
                    { left: true, right: true }    // two asides
                ];

                // Loop through main content types
                const mainContentOptions = ['main', 'section', 'article'];

                // Loop through footer placements
                const footerOptions = [false, 'body', 'envelope']; // Excluded, in body, in div.envelope

                // Generate combinations
                headerOptions.forEach(header => {
                    asideOptions.forEach(aside => {
                        mainContentOptions.forEach(mainContent => {
                            footerOptions.forEach(footer => {
                                // Create a layout object
                                const layout = {
                                    header,
                                    asides: aside,
                                    content: [],
                                    footer,
                                    usesEnvelope: false // Track if div.envelope is used
                                };

                                // Open div.envelope if it's being used
                                if (header === 'envelope' || footer === 'envelope') {
                                    layout.content.push('<div class="envelope">');
                                    layout.usesEnvelope = true; // Mark that envelope is used
                                }

                                // Add the header
                                if (header && header !== 'envelope') {
                                    const headerText = `header, in ${header}`;
                                    layout.content.push(`<header>${headerText}</header>`);
                                }

                                // Add asides based on the count
                                if (aside.left) {
                                    layout.content.unshift(`<aside>aside (left), in ${header || 'body'}</aside>`);
                                }
                                if (aside.right) {
                                    layout.content.push(`<aside>aside (right), in ${header || 'body'}</aside>`);
                                }

                                // Add main content
                                const mainText = `${mainContent}, in ${header || 'body'}`;
                                layout.content.push(`<${mainContent}>${mainText}</${mainContent}>`);

                                // Add the footer
                                if (footer) {
                                    const footerText = `footer, in ${footer}`;
                                    layout.content.push(`<footer>${footerText}</footer>`);
                                }

                                // Close div.envelope if it was opened
                                if (layout.usesEnvelope) {
                                    layout.content.push('</div>');
                                }

                                // Store the layout
                                layoutList.push(layout);
                            });
                        });
                    });
                });

                // Create the HTML for each layout
                layoutList.forEach(layout => {
                    const layoutDiv = document.createElement('div');
                    layoutDiv.classList.add('layout'); // Optionally set a class name for styles

                    // Set h3 innerText based on whether div.envelope is used
                    const h3Text = `Layout ${layoutCount} (${layout.usesEnvelope ? "With div.envelope" : "Without div.envelope"}):`;
                    let layoutHtml = `<h3>${h3Text}</h3>`;
                    layoutCount++; // Increment layout number

                    layout.content.forEach(content => {
                        layoutHtml += content;
                    });

                    layoutDiv.innerHTML = layoutHtml;
                    layoutsContainer.appendChild(layoutDiv); // Append to the correct container
                });
            };

            // Generate and display layouts
            generateLayouts();
        });
    </script>

</body>

</html>